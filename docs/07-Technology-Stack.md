# Stack Tecnológica - CartaOS v2

## 1. Filosofia de Escolha

A seleção da stack tecnológica para o CartaOS v2 foi guiada pela necessidade de criar um produto robusto, multiplataforma, escalável e que ofereça uma experiência de usuário de alta qualidade. Priorizamos tecnologias modernas, com ecossistemas fortes, comunidades ativas e que se alinham com os nossos princípios de arquitetura.

## 2. Detalhamento da Stack

A stack é dividida pelas principais áreas do sistema:

| Componente | Tecnologia Escolhida | Justificativa |
| :--- | :--- | :--- |
| **Frontend (Cliente)** | **Flutter & Dart** | **Base de Código Única:** A capacidade de compilar para Desktop (Windows, macOS, Linux), Web, iOS e Android a partir de um único código é a maior vantagem estratégica, reduzindo drasticamente o custo e a complexidade de manutenção. <br> **Performance Nativa:** Flutter compila para código nativo, garantindo uma UI fluida e responsiva. <br> **UI Consistente:** O controle total sobre a renderização garante que a experiência do usuário seja idêntica em todas as plataformas. |
| **Backend (Servidor)** | **Go (Golang)** | **Performance e Concorrência:** Go é extremamente eficiente para I/O e lida com milhares de requisições concorrentes com baixo consumo de recursos, ideal para uma API escalável. <br> **Simplicidade:** A linguagem é simples, compilada para um único binário estático, o que facilita enormemente o deploy e a containerização. <br> **Tipagem Estática:** Garante maior segurança e manutenibilidade do código em longo prazo. |
| **Banco de Dados** | **PostgreSQL com `pgvector`** | **Confiabilidade e Robustez:** PostgreSQL é um dos bancos de dados relacionais mais avançados e confiáveis do mercado. <br> **Ecossistema de Extensões:** A capacidade de usar extensões como a `pgvector` nos permite unificar o armazenamento relacional e vetorial, simplificando a arquitetura e reduzindo a latência de dados. <br> **Flexibilidade:** Suporta JSONB e outros tipos de dados avançados, permitindo flexibilidade conforme o produto evolui. |
| **Infraestrutura Cloud** | **Google Cloud Platform (GCP)** | **Serviços Gerenciados de Ponta:** Oferece soluções líderes como Google Kubernetes Engine (GKE), Cloud Run para computação serverless, e Cloud Storage. <br> **Liderança em IA:** A integração com a API do Google Gemini e outras ferramentas de IA/ML da Vertex AI é nativa e otimizada. <br> **Rede Global:** Excelente performance de rede e presença global. |
| **Computação (Backend)** | **Google Kubernetes Engine (GKE) / Cloud Run** | **GKE:** Para orquestração de contêineres em larga escala, oferecendo escalabilidade automática, resiliência e controle total sobre o ambiente. Ideal para os serviços principais. <br> **Cloud Run:** Para serviços assíncronos ou workers de processamento, permitindo escalar a zero e pagar apenas pelo tempo de execução, otimizando custos. |
| **Armazenamento de Arquivos** | **Google Cloud Storage (GCS)** | **Escalabilidade Infinita:** Solução de armazenamento de objetos altamente durável e escalável. <br> **Segurança:** Integração com IAM e URLs assinadas para controle de acesso granular. <br> **Custo-Benefício:** Oferece diferentes classes de armazenamento para otimizar custos. |
| **Autenticação** | **Firebase Authentication** | **Solução Completa e Segura:** Lida com todo o fluxo de autenticação (e-mail/senha, provedores sociais como Google/GitHub) de forma segura e escalável. <br> **Fácil Integração:** SDKs para Flutter e Go simplificam a implementação. <br> **Gratuito para Começar:** O generoso nível gratuito é ideal para o início do projeto. |
| **Análise e Processamento de IA** | **Google Gemini API** | **Modelo de Ponta:** Acesso a uma das famílias de modelos de linguagem mais avançadas para tarefas de resumo, tagging e análise semântica. <br> **API Robusta:** Oferece uma API bem documentada e fácil de usar. |
| **Análise Estrutural de Documentos** | **Docling / docTR / Nougat** | **Especialização:** Essas ferramentas são especializadas em entender o *layout* de documentos acadêmicos, extraindo não apenas o texto, mas também tabelas, fórmulas, títulos e notas de rodapé com alta precisão, algo que LLMs genéricos não fazem bem. |
| **Extração de Citações** | **GROBID** | **Estado da Arte:** É a ferramenta de referência para parsing de referências bibliográficas em PDFs, extraindo dados estruturados com altíssima acurácia. |
| **Busca Vetorial (RAG)** | **LlamaIndex (Framework)** | **Orquestração de RAG:** LlamaIndex é um framework que facilita a implementação de pipelines de RAG, lidando com a ingestão de dados, chunking, embedding e a síntese da resposta, permitindo uma implementação mais rápida e robusta. |
| **DevOps e CI/CD** | **Docker & GitHub Actions** | **Containerização:** Docker permite empacotar as aplicações do backend e suas dependências, garantindo consistência entre os ambientes de desenvolvimento e produção. <br> **Automação:** GitHub Actions é a escolha natural para CI/CD, permitindo a automação de testes, builds e deploys diretamente a partir do nosso repositório de código. |
